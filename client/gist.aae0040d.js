import{S as t,i as e,s as n,e as A,g as r,h as i,d as s,k as a,l as o,A as c,v as l,K as h,L as u,M as m,w as g}from"./client.a2a3416f.js";
/*! @gera2ld/jsx-dom v1.2.1 | ISC License */var f=["innerHTML","innerText","textContent",{key:"value",tag:"textarea"}],d={name:"Fragment"};function w(t,e){var n,A;if(t===d)n=document.createDocumentFragment();else{if("string"!=typeof t)throw new Error("Invalid element type: "+t);var r=w.createElement(t);n=r,e&&Object.keys(e).forEach((function(n){var i=e[n];null!=i&&(n.startsWith("on")?r.addEventListener(n.slice(2).toLowerCase(),i):"children"===n?R(r,i):"style"===n&&"object"==typeof i?p(r,i):"dangerouslySetInnerHTML"===n&&i?r.innerHTML=i.__html||"":"ref"===n&&"function"==typeof i?A=i:"boolean"==typeof i?i?r.setAttribute(n,n):r.removeAttribute(n):v(t,n)?r[n]=i:("className"===n?n="class":"labelFor"===n&&(n="for"),r.setAttribute(n,""+i)))}))}for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];return R(n,s),A&&A(n),n}function v(t,e){var n={tag:t,key:e};return f.some((function(t){return"string"==typeof t?e===t:Object.keys(t).every((function(e){return t[e]===n[e]}))}))}function R(t,e){e.forEach((function(e){null!=e&&!1!==e&&(Array.isArray(e)?R(t,e):"object"!=typeof e?t.appendChild(document.createTextNode(""+e)):t.appendChild(e))}))}function p(t,e){Object.keys(e).forEach((function(n){var A=e[n];t.style[n]="number"==typeof A?A+"px":A}))}
/*! markmap-toolbar v0.1.3 | MIT License */function B({title:t,content:e,onClick:n}){return w("div",{className:"mm-toolbar-item",title:t,innerHTML:e,onClick:n})}let y;w.createElement=function(t){return document.createElement(t)};class x{static create(t){const e=new x;return e.attach(t),e.render()}static icon(t){return`<svg width="20" height="20" viewBox="0 0 20 20" on:click={onZoomIn}><path fill="none" stroke-width="2" stroke="currentColor" d="${t}"/></svg>`}constructor(){this.showBrand=!0,this.registry={},this.markmap=null,this.items=["zoomIn","zoomOut","fit"],this.register({id:"zoomIn",title:"Zoom in",content:x.icon("M10 6 v8 M6 10 h8"),onClick:this.getHandler((t=>t.rescale(1.25)))}),this.register({id:"zoomOut",title:"Zoom out",content:x.icon("M6 10 h8"),onClick:this.getHandler((t=>t.rescale(.8)))}),this.register({id:"fit",title:"Fit window size",content:x.icon("M4 8 h3 v-3 M4 12 h3 v3 M16 8 h-3 v-3 M16 12 h-3 v3"),onClick:this.getHandler((t=>t.fit()))})}setBrand(t){this.showBrand=t}register(t){this.registry[t.id]=t}getHandler(t){var e;return e=t,t=async(...t)=>{if(!y){y=e(...t);try{await y}finally{y=null}}},e=>{this.markmap&&t(this.markmap)}}setItems(t){this.items=[...t]}attach(t){this.markmap=t}render(){const t=this.items.map((t=>{if("string"==typeof t){const e=this.registry[t];return e||console.warn(`[markmap-toolbar] ${t} not found`),e}return t})).filter(Boolean);return w("div",{className:"mm-toolbar"},this.showBrand&&w("div",{className:"mm-toolbar-brand"},w("img",{alt:"markmap",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACoFBMVEUAAAAAAAD//wAAAACAgAD//wAAAABVVQCqqgBAQACAQACAgABmZgBtbQAAAABgQABgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaFQAAAAAAAAAAAAAAAAAHAAARBQIdGAIYEwI/OgJYUQUfHQI+OgJDPgJJRARBPQRJQgRRSwRRTQRIQQRUTgRUUARZUgRSTQRPSQRjWgZORQRfWQZsZAhTTQRNRwRWUAZkXAZOSARUTgZPRwRRSQRoYwZWUQZWTgRbUwZmXQZoXghmXwdqYwdsYwdfVwVmXQdqYgdiWgVpYAl3bgl6cgl4cAqLggw8OAOWjA2Uig1OSAR2bQihlg55cAh5cAh6cQmMgwyOhAyUjA2QhQ2Uiw2Viw2soBCflA+voxGwpRGhlg+hlg+snxGroBGjmBCpnBC0pxKyphKxpRG2qhK0qBK5rBK5rBP/7h3/8B7/8R3/8h3/8R7/8h786x397B3+7R3EtxT66Rz66hz76hz86xz96xz97Bz+7Rz45xz56Bz76hz97Bz97B3MvRX15Rv25Rv45xz66Rz76hz97B3+7R3IuxX05Bv15Bv25Rz56Bz66Ry/sxPAsxPCtRTCthTNvxbZyxfczxfi0xjl1Rnn2Bnr2xrr3Brs3Rru3Rru3xrv3hrw3xrx4Bvx4Rvy4hvz4hvz4xv04xv05Bv14xv15Bv15Rv25Bv25Rv25Rz25hv35hv35xv45xv45xz55xz56Bv56Bz66Rv66Rz76Rv76Rz76hz86hv86xz+7h3/7R3/7h3/7x3/8B3/8B7/8R3/8R4Yqhj5AAAAq3RSTlMAAQECAgIDAwMEBAQFBwgICAwQERITFRYXGBkbHB0eHyQlJyguNTg8RUZISU5PV2FiY2RlZmdqa2xubnJzc3R2d3d3eXl5eXp7fH1+gIGCgoKDg4SEhIWGh4eHiYmJjIyMjZSUlJ+sra+zt7i4uru8ztHV1tbW2d7g4OHi4uPk5ufp7Ozv9fX29/f3+Pj6+vr7+/v7+/v7+/z8/Pz8/f39/f39/f3+/v7+/v7K6J1dAAACHklEQVQ4y2NgwAoYWdi5uLm5GXHIcrLCmMzYpDmAhKCKjoGtp40MFhVsDAwSxmmVEzZu2XvqSLkchjw3g0h445Ybd24vmTN1Usd5X3R5DgaNqgN35sycP2/GxMkTMRVwMOivvtO3YsWUm3duX790EcMKdgbNNXdnnJh1+9T6ipzU+FB0RzIyiFYB5WdfaElUF8TmTQ6GwH39J2bvypMHcpg4MAKKkUGo5s6KWRfyGRh4WJClGEGBCgS8DLobliy/3abMwM8NBYwQjXDgf3ryxOspyKYyg+RFTFwdnYDAzbrw+oLFm9Ot3J3AwNHFTBykQrhg++GDh48cOXzk4P6VZy8s230MyAGCwwcP7iyRBJpiur1n8hQIWHX27NkLi6bAwOSuow5ABeY7OydOhoCFIAULe6E8YFCf8QAqEC86evniZTA4tfLsuRXHr0E4ly9ePF0uC3KnpH1MZBQQxPoVgxyZ5RMdBQaRMc6yIEcihWbQGaA3k9G8CfQoN0pAtSoxCMACihk9qGtBQZ2LHtRIkRUMiqwd2TJADiswsrjQlAGju/o+MLrPNkWo8mFN1ewMWmvBCebQ0rKMJG87QzF0FRwMRuvugpLcrXu3rp7Zs61UCtMZ2nVHbk+fMX/+jMmTp3Sf9MLiULG45q237txaPG3yxPYrYQzYMo60RWbD3E27Ll68Uq+AK+uJqOlZBiSEKGLNnMA0iDfzwrI/NKgBOivk9piPdtUAAAAASUVORK5CYII="}),w("a",{href:"https://markmap.js.org/"},"markmap")),t.map(B))}}function z(t){let e,n;return{c(){e=A("div"),this.h()},l(t){e=r(t,"DIV",{class:!0}),i(e).forEach(s),this.h()},h(){a(e,"class",n=t[1].class)},m(n,A){o(n,e,A),t[5](e)},p(t,[A]){2&A&&n!==(n=t[1].class)&&a(e,"class",n)},i:c,o:c,d(n){n&&s(e),t[5](null)}}}function M(t,e,n){let A,{mm:r}=e,{showBrand:i=!1}=e,{isFull:s=!1}=e;const a=new x;return a.setBrand(i),a.register({id:"repl",title:"Open in REPL",content:x.icon("M5 6 v8 h10 v-8 h-10 z m5 0 v8"),onClick:function(){h("/repl"+window.location.hash)}}),a.register({id:"full",title:"Full page view",content:x.icon("M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),onClick:function(){h("/full"+window.location.hash)}}),a.setItems(["zoomIn","zoomOut","fit",s?"repl":"full"]),l((()=>{A.append(a.render())})),t.$$set=t=>{n(1,e=u(u({},e),m(t))),"mm"in t&&n(2,r=t.mm),"showBrand"in t&&n(3,i=t.showBrand),"isFull"in t&&n(4,s=t.isFull)},t.$$.update=()=>{4&t.$$.dirty&&a.attach(r)},e=m(e),[A,e,r,i,s,function(t){g[t?"unshift":"push"]((()=>{A=t,n(0,A)}))}]}class Q extends t{constructor(t){super(),e(this,t,M,z,n,{mm:2,showBrand:3,isFull:4})}}const C=["af76a4c245b302206b16aec503dbe07b","gitee:a73wgucr28dhlxp91kytm57"];function b(){}async function k(t){const[,e,n,A]=t.match(/^(?:(\w+):)?(\w+)(?:\/(.*))?$|/);if(!n)return;const r=A||"markmap.md";return"gitee"===e?async function(t,e){const n=await fetch("https://gitee.com/api/v5/gists/"+t),A=(await n.json()).files[e];if(!A)return;let{content:r}=A;if(A.truncated){const t=await fetch(A.raw_url);r=await t.text()}return r}(n,r):async function(t,e){const n=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),A=(await n.json()).files[e];if(!A)return;let{content:r}=A;if(A.truncated){const t=await fetch(A.raw_url);r=await t.text()}return r}(n,r)}function E(t){let e;return async function(){const n={};e=n;let A=new URLSearchParams(window.location.hash.slice(1)).get("gist");A=A&&A.split(",");const r=await async function(t){return Promise.any(t.map(k))}(A||C);null!=r&&n===e&&t(r)}}function I(t){const e=E(t);return window.addEventListener("hashchange",e),e(t),()=>window.removeEventListener("hashchange",e)}Promise.any||(Promise.any=t=>new Promise(((e,n)=>{Promise.all(t.map((t=>Promise.resolve(t).then(e,b)))).then(n)})));export{Q as T,I as s};
