import{S as a,i as e,s as t,e as s,g as n,h as l,d as r,k as c,l as o,o as i,a as f,c as m,t as u,q as h,b as d,f as p,j as v,G as g,m as $,n as b,N as E,p as w,r as x,u as k,O as S,C as V,v as I,F as _,P as A,w as D,x as y,y as N,z as T,I as C,A as G}from"./client.a2a3416f.js";import{H as P,F as M}from"./footer.90fe07d1.js";import{M as O,t as U,g as R,f as L,a as j}from"./markmap.81327bed.js";import{T as z,s as F}from"./gist.aae0040d.js";const{document:H}=A;function J(a){let e,t,m,h,p,$,w,x,k,V,I,_,A,D,y,N=a[5].error&&q(a);return{c(){e=s("form"),t=s("span"),m=u("Open Gist:"),h=f(),p=s("input"),w=f(),x=s("a"),k=u("✓"),V=f(),I=s("a"),_=u("✗"),A=f(),N&&N.c(),this.h()},l(a){e=n(a,"FORM",{class:!0});var s=l(e);t=n(s,"SPAN",{class:!0});var c=l(t);m=v(c,"Open Gist:"),c.forEach(r),h=d(s),p=n(s,"INPUT",{class:!0,style:!0,type:!0,value:!0}),w=d(s),x=n(s,"A",{class:!0});var o=l(x);k=v(o,"✓"),o.forEach(r),V=d(s),I=n(s,"A",{class:!0});var i=l(I);_=v(i,"✗"),i.forEach(r),A=d(s),N&&N.l(s),s.forEach(r),this.h()},h(){c(t,"class","mr-2"),c(p,"class","input min-w-0"),g(p,"width","560px"),c(p,"type","url"),p.value=$=a[5].url,c(x,"class","ml-2 no-underline"),c(I,"class","ml-2 no-underline"),c(e,"class","flex")},m(s,n){o(s,e,n),b(e,t),b(t,m),b(e,h),b(e,p),b(e,w),b(e,x),b(x,k),b(e,V),b(e,I),b(I,_),b(e,A),N&&N.m(e,null),D||(y=[i(p,"input",a[13]),i(x,"click",E(a[11])),i(I,"click",E(a[12])),i(e,"submit",E(a[11]))],D=!0)},p(a,t){32&t&&$!==($=a[5].url)&&(p.value=$),a[5].error?N?N.p(a,t):(N=q(a),N.c(),N.m(e,null)):N&&(N.d(1),N=null)},d(a){a&&r(e),N&&N.d(),D=!1,S(y)}}}function W(a){let e,t,c,f;return{c(){e=s("a"),t=u("Open Gist")},l(a){e=n(a,"A",{});var s=l(e);t=v(s,"Open Gist"),s.forEach(r)},m(s,n){o(s,e,n),b(e,t),c||(f=i(e,"click",E(a[10])),c=!0)},p:G,d(a){a&&r(e),c=!1,f()}}}function q(a){let e,t,i=a[5].error+"";return{c(){e=s("span"),t=u(i),this.h()},l(a){e=n(a,"SPAN",{class:!0});var s=l(e);t=v(s,i),s.forEach(r),this.h()},h(){c(e,"class","ml-2 text-red-600")},m(a,s){o(a,e,s),b(e,t)},p(a,e){32&e&&i!==(i=a[5].error+"")&&C(t,i)},d(a){a&&r(e)}}}function K(a){let e,t,f;return{c(){e=s("textarea"),this.h()},l(a){e=n(a,"TEXTAREA",{class:!0,value:!0}),l(e).forEach(r),this.h()},h(){c(e,"class","w-full h-full p-1"),e.value=a[4]},m(s,n){o(s,e,n),t||(f=i(e,"input",a[9]),t=!0)},p(a,t){16&t&&(e.value=a[4])},d(a){a&&r(e),t=!1,f()}}}function X(a){let e,t,V,I,_,A,T,C,G,U,R,L,j,F,q,X,B,Q,Y,Z,aa,ea,ta,sa,na,la,ra,ca,oa,ia,fa,ma,ua,ha,da,pa,va;function ga(a,e){return a[5]?J:W}t=new P({});let $a=ga(a),ba=$a(a),Ea=!a[3]&&K(a);function wa(e){a[15].call(null,e)}function xa(e){a[16].call(null,e)}let ka={content:a[4]};return void 0!==a[2]&&(ka.mm=a[2]),void 0!==a[1]&&(ka.el=a[1]),X=new O({props:ka}),D.push((()=>y(X,"mm",wa))),D.push((()=>y(X,"el",xa))),Z=new z({props:{class:"absolute right-0 bottom-0 mr-2 mb-2",mm:a[2]}}),ha=new M({}),{c(){e=f(),m(t.$$.fragment),V=f(),I=s("div"),_=s("a"),A=u("NEW: markmap in VSCode!"),T=f(),C=s("main"),G=s("div"),ba.c(),U=f(),R=s("div"),L=s("div"),Ea&&Ea.c(),j=f(),F=s("div"),q=s("div"),m(X.$$.fragment),Y=f(),m(Z.$$.fragment),aa=f(),ea=s("div"),ta=s("div"),sa=s("a"),na=u("Download as interactive HTML"),la=f(),ra=s("div"),ca=s("a"),oa=u("Download as SVG"),ia=f(),fa=s("span"),ma=u("⚠️"),ua=f(),m(ha.$$.fragment),this.h()},l(a){h('[data-svelte="svelte-r18bnt"]',H.head).forEach(r),e=d(a),p(t.$$.fragment,a),V=d(a),I=n(a,"DIV",{class:!0,style:!0});var s=l(I);_=n(s,"A",{class:!0,href:!0,target:!0,rel:!0});var c=l(_);A=v(c,"NEW: markmap in VSCode!"),c.forEach(r),s.forEach(r),T=d(a),C=n(a,"MAIN",{class:!0});var o=l(C);G=n(o,"DIV",{class:!0});var i=l(G);ba.l(i),i.forEach(r),U=d(o),R=n(o,"DIV",{class:!0});var f=l(R);L=n(f,"DIV",{class:!0});var m=l(L);Ea&&Ea.l(m),m.forEach(r),j=d(f),F=n(f,"DIV",{class:!0});var u=l(F);q=n(u,"DIV",{class:!0});var g=l(q);p(X.$$.fragment,g),Y=d(g),p(Z.$$.fragment,g),g.forEach(r),aa=d(u),ea=n(u,"DIV",{});var $=l(ea);ta=n($,"DIV",{class:!0});var b=l(ta);sa=n(b,"A",{});var E=l(sa);na=v(E,"Download as interactive HTML"),E.forEach(r),b.forEach(r),la=d($),ra=n($,"DIV",{class:!0,title:!0});var w=l(ra);ca=n(w,"A",{});var x=l(ca);oa=v(x,"Download as SVG"),x.forEach(r),ia=d(w),fa=n(w,"SPAN",{class:!0});var k=l(fa);ma=v(k,"⚠️"),k.forEach(r),w.forEach(r),$.forEach(r),u.forEach(r),f.forEach(r),o.forEach(r),ua=d(a),p(ha.$$.fragment,a),this.h()},h(){H.title="Try Markmap",c(_,"class","inline-block text-sm text-orange-600 underline"),c(_,"href","https://marketplace.visualstudio.com/items?itemName=gera2ld.markmap-vscode"),c(_,"target","_blank"),c(_,"rel","noreferrer noopener"),c(I,"class","fixed z-10 hidden md:block"),g(I,"top","15px"),g(I,"left","50%"),c(G,"class","flex items-center mb-4 text-sm"),c(L,"class","flex-1 min-w-0 border border-gray-300"),c(q,"class","markmap-wrapper flex-1"),c(ta,"class","inline-block px-4 py-2"),c(fa,"class","text-red-500"),c(ra,"class","inline-block px-4 py-2"),c(ra,"title","SVG does not work well with PrismJS and MathJax"),c(F,"class","flex-1 min-w-0 flex flex-col"),c(R,"class","flex-1 md:flex min-h-0 repl"),c(C,"class","inner flex flex-col md:fs")},m(s,n){o(s,e,n),$(t,s,n),o(s,V,n),o(s,I,n),b(I,_),b(_,A),o(s,T,n),o(s,C,n),b(C,G),ba.m(G,null),b(C,U),b(C,R),b(R,L),Ea&&Ea.m(L,null),a[14](L),b(R,j),b(R,F),b(F,q),$(X,q,null),b(q,Y),$(Z,q,null),b(F,aa),b(F,ea),b(ea,ta),b(ta,sa),b(sa,na),b(ea,la),b(ea,ra),b(ra,ca),b(ca,oa),b(ra,ia),b(ra,fa),b(fa,ma),o(s,ua,n),$(ha,s,n),da=!0,pa||(va=[i(_,"click",a[8]),i(sa,"click",E(a[7])),i(ca,"click",E(a[6]))],pa=!0)},p(a,[e]){$a===($a=ga(a))&&ba?ba.p(a,e):(ba.d(1),ba=$a(a),ba&&(ba.c(),ba.m(G,null))),a[3]?Ea&&(Ea.d(1),Ea=null):Ea?Ea.p(a,e):(Ea=K(a),Ea.c(),Ea.m(L,null));const t={};16&e&&(t.content=a[4]),!B&&4&e&&(B=!0,t.mm=a[2],N((()=>B=!1))),!Q&&2&e&&(Q=!0,t.el=a[1],N((()=>Q=!1))),X.$set(t);const s={};4&e&&(s.mm=a[2]),Z.$set(s)},i(a){da||(w(t.$$.fragment,a),w(X.$$.fragment,a),w(Z.$$.fragment,a),w(ha.$$.fragment,a),da=!0)},o(a){x(t.$$.fragment,a),x(X.$$.fragment,a),x(Z.$$.fragment,a),x(ha.$$.fragment,a),da=!1},d(s){s&&r(e),k(t,s),s&&r(V),s&&r(I),s&&r(T),s&&r(C),ba.d(),Ea&&Ea.d(),a[14](null),k(X),k(Z),s&&r(ua),k(ha,s),pa=!1,S(va)}}}function B(a,e){const t=document.createElement("a");t.download=a,t.href=e,t.click()}function Q(a,e){if(!a)throw new Error(e)}function Y(a,e,t){let s,n,l,r,c,o="";const{page:i}=V();function f(){r&&t(4,o=r.getValue())}let m;I((async()=>{m=F((a=>{r&&r.setValue(a),t(4,o=a)}));const{default:a}=await Promise.all([import("./codemirror.bb021940.js"),__inject_styles(["client-ff2bd8be.css","codemirror-8033c53c.css"])]).then((function(a){return a[0]}));t(3,r=a(s,{lineNumbers:!0,mode:"markdown",value:o,indentUnit:2,tabSize:2})),r.setOption("extraKeys",{Tab:a=>{a.somethingSelected()?a.execCommand("indentMore"):a.replaceSelection(" ".repeat(a.getOption("indentUnit")))},"Shift-Tab":a=>{a.execCommand("indentLess")}}),r.on("change",j(f,500))})),_((()=>{t(3,r=null),m&&(m(),m=null)}));return[s,n,l,r,o,c,function(){const a=n.outerHTML.replace(/<br>/g,"<br/>");B("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(a))},function(){const{root:a,features:e}=U(o),t=R(e),s=L(a,t);B("markmap.html","data:text/html;utf8,"+encodeURIComponent(s))},function(){T("event","click",{event_label:"markmapVSCodeFromREPL"})},function(a){t(4,o=a.target.value)},function(){t(5,c={url:"https://gist.github.com/gera2ld/af76a4c245b302206b16aec503dbe07b"})},function(){if(!c)return;let a,e;T("event","gist",{event_label:a});try{const t=new URL(c.url);if("https://gist.github.com"===t.origin){const s=t.pathname.split("/");Q(3===s.length),e=s[2],a="github";const n=t.hash?"/"+t.hash.slice(1):"";window.location.hash=`#?gist=${e}${n}`}else{if("https://gitee.com"!==t.origin)throw new Error("Unknown service");{const s=t.pathname.split("/");Q(4===s.length),Q("codes"===s[2]),e=s[3],a="gitee";const n=t.hash?"/"+t.hash.slice(1):"";window.location.hash=`#?gist=gitee:${e}${n}`}}}catch{t(5,c.error="Unrecognized Gist URL",c)}c.error||T("event","openGist",{event_label:a})},function(){t(5,c=null)},a=>{t(5,c.url=a.target.value,c)},function(a){D[a?"unshift":"push"]((()=>{s=a,t(0,s)}))},function(a){l=a,t(2,l)},function(a){n=a,t(1,n)}]}export default class extends a{constructor(a){super(),e(this,a,Y,X,t,{})}}

import __inject_styles from './inject_styles.5607aec6.js';